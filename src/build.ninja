cflags = -Wall -Werror
cxxflags = $cflags -std=c++11

includes = -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include
libs = -lgobject-2.0 -lglib-2.0 

rule cc
  depfile = $out.d
  command = gcc -MMD -MF $out.d $cflags $includes -c $in -o $out

rule cxx
  depfile = $out.d
  command = g++ -MMD -MF $out.d $cxxflags $includes -c $in -o $out

rule link
  command = g++ $libs $in -o $out

build main.o: cxx main.cc

build main_loop.o: cxx main_loop.cc

build cgdb: link main.o main_loop.o

